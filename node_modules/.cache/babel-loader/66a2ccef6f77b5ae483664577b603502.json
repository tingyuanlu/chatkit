{"ast":null,"code":"import _classCallCheck from \"/Users/tingyuan.lu/chatkit/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tingyuan.lu/chatkit/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/tingyuan.lu/chatkit/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/tingyuan.lu/chatkit/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/tingyuan.lu/chatkit/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/tingyuan.lu/chatkit/src/components/MessageList.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Message from './Message';\n\nvar MessageList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MessageList, _React$Component);\n\n  function MessageList() {\n    _classCallCheck(this, MessageList);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MessageList).apply(this, arguments));\n  }\n\n  _createClass(MessageList, [{\n    key: \"componentWillUpdate\",\n    value: function componentWillUpdate() {\n      var node = ReactDOM.findDOMNode(this);\n      this.shouldScrollToBottom = node.scrollTop + node.clientHeight + 100 >= node.scrollHeight;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.shouldScrollToBottom) {\n        var node = ReactDOM.findDOMNode(this);\n        node.scrollTop = node.scrollHeight;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.props.roomId) {\n        return React.createElement(\"div\", {\n          className: \"message-list\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"join-room\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23\n          },\n          __self: this\n        }, \"\\u2190 Join a room!\"));\n      }\n\n      console.log(this.props.messages[0]);\n      return React.createElement(\"div\", {\n        className: \"message-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, this.props.messages.map(function (message, index) {\n        return React.createElement(Message, {\n          key: message.id,\n          username: message.senderId,\n          text: message.parts[0].payload.content,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        });\n      }));\n    }\n  }]);\n\n  return MessageList;\n}(React.Component);\n\nexport default MessageList;","map":{"version":3,"sources":["/Users/tingyuan.lu/chatkit/src/components/MessageList.js"],"names":["React","ReactDOM","Message","MessageList","node","findDOMNode","shouldScrollToBottom","scrollTop","clientHeight","scrollHeight","props","roomId","console","log","messages","map","message","index","id","senderId","parts","payload","content","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,OAAP,MAAoB,WAApB;;IAEMC,W;;;;;;;;;;;;;0CAEoB;AAClB,UAAMC,IAAI,GAAGH,QAAQ,CAACI,WAAT,CAAqB,IAArB,CAAb;AACA,WAAKC,oBAAL,GAA4BF,IAAI,CAACG,SAAL,GAAiBH,IAAI,CAACI,YAAtB,GAAqC,GAArC,IAA4CJ,IAAI,CAACK,YAA7E;AACH;;;yCAEoB;AACjB,UAAI,KAAKH,oBAAT,EAA+B;AAC3B,YAAMF,IAAI,GAAGH,QAAQ,CAACI,WAAT,CAAqB,IAArB,CAAb;AACAD,QAAAA,IAAI,CAACG,SAAL,GAAiBH,IAAI,CAACK,YAAtB;AACH;AACJ;;;6BAEQ;AACL,UAAI,CAAC,KAAKC,KAAL,CAAWC,MAAhB,EAAwB;AACpB,eACI;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADJ,CADJ;AAOH;;AACDC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKH,KAAL,CAAWI,QAAX,CAAoB,CAApB,CAAZ;AACA,aACI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKJ,KAAL,CAAWI,QAAX,CAAoBC,GAApB,CAAwB,UAACC,OAAD,EAAUC,KAAV,EAAoB;AACzC,eACI,oBAAC,OAAD;AAAS,UAAA,GAAG,EAAED,OAAO,CAACE,EAAtB;AAA0B,UAAA,QAAQ,EAAEF,OAAO,CAACG,QAA5C;AAAsD,UAAA,IAAI,EAAEH,OAAO,CAACI,KAAR,CAAc,CAAd,EAAiBC,OAAjB,CAAyBC,OAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAGH,OAJA,CADL,CADJ;AASH;;;;EAlCqBtB,KAAK,CAACuB,S;;AAqChC,eAAepB,WAAf","sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Message from './Message'\n\nclass MessageList extends React.Component {\n\n    componentWillUpdate() {\n        const node = ReactDOM.findDOMNode(this)\n        this.shouldScrollToBottom = node.scrollTop + node.clientHeight + 100 >= node.scrollHeight\n    }\n\n    componentDidUpdate() {\n        if (this.shouldScrollToBottom) {\n            const node = ReactDOM.findDOMNode(this)\n            node.scrollTop = node.scrollHeight\n        }\n    }\n\n    render() {\n        if (!this.props.roomId) {\n            return (\n                <div className=\"message-list\">\n                    <div className=\"join-room\">\n                        &larr; Join a room!\n                    </div>\n                </div>\n            )\n        }\n        console.log(this.props.messages[0])\n        return (\n            <div className=\"message-list\">\n                {this.props.messages.map((message, index) => {\n                    return (\n                        <Message key={message.id} username={message.senderId} text={message.parts[0].payload.content} />\n                    )\n                })}\n            </div>\n        )\n    }\n}\n\nexport default MessageList\n"]},"metadata":{},"sourceType":"module"}