{"ast":null,"code":"'use strict';\n\nvar _regeneratorRuntime = require(\"/Users/tingyuan.lu/chatkit/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/tingyuan.lu/chatkit/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar fs = require('fs');\n\nvar util = require('util');\n\nvar is = require('@sindresorhus/is');\n\nvar isFormData = require('./is-form-data');\n\nmodule.exports =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(options) {\n    var body, _ref2, size;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            body = options.body;\n\n            if (!options.headers['content-length']) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Number(options.headers['content-length']));\n\n          case 3:\n            if (!(!body && !options.stream)) {\n              _context.next = 5;\n              break;\n            }\n\n            return _context.abrupt(\"return\", 0);\n\n          case 5:\n            if (!is.string(body)) {\n              _context.next = 7;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Buffer.byteLength(body));\n\n          case 7:\n            if (!isFormData(body)) {\n              _context.next = 9;\n              break;\n            }\n\n            return _context.abrupt(\"return\", util.promisify(body.getLength.bind(body))());\n\n          case 9:\n            if (!(body instanceof fs.ReadStream)) {\n              _context.next = 15;\n              break;\n            }\n\n            _context.next = 12;\n            return util.promisify(fs.stat)(body.path);\n\n          case 12:\n            _ref2 = _context.sent;\n            size = _ref2.size;\n            return _context.abrupt(\"return\", size);\n\n          case 15:\n            return _context.abrupt(\"return\", null);\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":null,"metadata":{},"sourceType":"script"}